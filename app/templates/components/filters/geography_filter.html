{% macro render_geography_filter() %}
<div class="usa-accordion usa-accordion--bordered">
    <h3 class="usa-accordion__heading">
        <button type="button" class="usa-accordion__button"
          aria-expanded="true" aria-controls="filter-geography">
            Geographic Area
        </button>
    </h3>
    <div id="filter-geography" class="usa-accordion__content usa-prose">
        <div class="keyword-autocomplete">
            <label id="geography-input-label" class="usa-label" for="geography-input">
              Filter by Geography <br>
                <span class="usa-hint">Start typing to see suggestions or use the pencil button to open a larger map</span>
            </label>
            <input
                type="text"
                id="geography-input"
                class="keyword-autocomplete__input usa-input"
                placeholder="Type a place..."
                autocomplete="off"
                aria-autocomplete="list"
                aria-controls="geography-suggestions"
                aria-expanded="false"
            >
            <div id="geography-suggestions" class="keyword-suggestions" role="listbox"></div>

        </div>
        <div id="geography-map"></div>
        <button
            type="button"
            id="geography-map-modal-trigger"
            class="usa-sr-only"
            data-open-modal
            aria-controls="geography-map-modal"
        >
          Open geography map
        </button>
        <div
            class="usa-modal usa-modal--geography"
            id="geography-map-modal"
            aria-labelledby="geography-map-modal-heading"
            aria-describedby="geography-map-modal-description"
        >
            <div class="usa-modal__content">
                <button
                    type="button"
                    class="usa-modal__close"
                    aria-label="Close modal"
                    data-close-modal
                >
                    <span aria-hidden="true">Ã—</span>
                </button>
                <div class="usa-modal__main">
                    <h2 class="usa-modal__heading" id="geography-map-modal-heading">
                        Draw a geographic box
                    </h2>
                    <p class="usa-prose" id="geography-map-modal-description">
                        Pan and zoom, then click Draw box icon
                        <i class="fa-solid fa-draw-polygon" aria-hidden="true"></i>
                        <span class="usa-sr-only">Draw box</span>
                        and drag to set the area. Click Apply icon
                        <i class="fa-solid fa-check" aria-hidden="true"></i>
                        <span class="usa-sr-only">Apply</span>
                        to use it.
                        <br>
                        Use the Within/Intersect toggle to choose how the box matches datasets.
                    </p>
                    <div class="geography-map-modal__map">
                        <div id="geography-map-modal-map"></div>
                        <div class="geography-map-modal__controls">
                            <div class="geography-map-modal__controls-row">
                                <button
                                    type="button"
                                    class="usa-button usa-button--outline geography-map-modal__control-button"
                                    id="geography-modal-draw-toggle"
                                    aria-label="Draw box"
                                    title="Draw box"
                                >
                                    <i class="fa-solid fa-draw-polygon" aria-hidden="true"></i>
                                </button>
                                <button
                                    type="button"
                                    class="usa-button geography-map-modal__control-button geography-map-modal__control-button--apply"
                                    id="geography-modal-apply"
                                    data-close-modal
                                    aria-label="Apply"
                                    title="Apply"
                                >
                                    <i class="fa-solid fa-check" aria-hidden="true"></i>
                                </button>
                            </div>
                        </div>
                        <div
                            class="geography-map-modal__relation"
                            role="group"
                            aria-label="Match datasets"
                        >
                            <div class="usa-radio">
                                <input
                                    class="usa-radio__input"
                                    id="geography-relation-within"
                                    type="radio"
                                    name="spatial_within"
                                    value="true"
                                    checked
                                >
                                <label class="usa-radio__label" for="geography-relation-within">
                                    Within
                                </label>
                            </div>
                            <div class="usa-radio">
                                <input
                                    class="usa-radio__input"
                                    id="geography-relation-intersects"
                                    type="radio"
                                    name="spatial_within"
                                    value="false"
                                >
                                <label class="usa-radio__label" for="geography-relation-intersects">
                                    Intersect
                                </label>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
{% endmacro %}
