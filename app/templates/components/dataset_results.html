{# templates/components/dataset_results.html #}
{% import 'components/dataset_card.j2' as dataset_card -%}
{% if datasets %}
  {% for dataset in datasets %}
    {{ dataset_card.dataset_card(dataset) }}
  {% endfor %}
    {% if after %}
    <div id="replaceMe">
    {% set new_results = results_hint + per_page %}
    <button class='usa-button'
        hx-get="{{ url_for('main.search', q=query, per_page=per_page, after=after, results=new_results) }}"
        hx-target="#replaceMe"
        hx-swap="outerHTML"
        hx-push-url="{{ url_for('main.index', q=query, results=new_results) }}"
        hx-trigger="click">
      Show more results
    </button>
    </div>
    {% endif %}
{% endif %}
