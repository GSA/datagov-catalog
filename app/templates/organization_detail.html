{% extends "base.html" %}

{% block title %}{{ organization.name }} - Organization - Data.gov{% endblock %}

{% block content %}
<section class="organization-detail">
  <h1>{{ organization.name }}</h1>

  <dl class="usa-description-list">
    <div class="usa-description-list__row">
      <dt class="usa-description-list__term">ID</dt>
      <dd class="usa-description-list__description">{{ organization.id }}</dd>
    </div>
    <div class="usa-description-list__row">
      <dt class="usa-description-list__term">Slug</dt>
      <dd class="usa-description-list__description">{{ organization.slug or "—" }}</dd>
    </div>
    <div class="usa-description-list__row">
      <dt class="usa-description-list__term">Type</dt>
      <dd class="usa-description-list__description">{{ organization.organization_type or "—" }}</dd>
    </div>
    <div class="usa-description-list__row">
      <dt class="usa-description-list__term">Logo</dt>
      <dd class="usa-description-list__description">
        {% if organization.logo %}
          <a href="{{ organization.logo }}" target="_blank" rel="noopener">{{ organization.logo }}</a>
        {% else %}
          —
        {% endif %}
      </dd>
    </div>
  </dl>

  {% if organization.description %}
  <section class="organization-description">
    <h2>Description</h2>
    <p>{{ organization.description }}</p>
  </section>
  {% endif %}

  <section class="organization-sources">
    <h2>Harvest Sources</h2>
    {% if sources %}
    <table class="usa-table usa-table--striped">
      <thead>
        <tr>
          <th scope="col">Name</th>
          <th scope="col">URL</th>
          <th scope="col">Frequency</th>
          <th scope="col">Schema</th>
        </tr>
      </thead>
      <tbody>
        {% for source in sources %}
        <tr>
          <th scope="row">{{ source.name }}</th>
          <td><a href="{{ source.url }}" target="_blank" rel="noopener">{{ source.url }}</a></td>
          <td>{{ source.frequency or "—" }}</td>
          <td>{{ source.schema_type or "—" }}</td>
        </tr>
        {% endfor %}
      </tbody>
    </table>
    {% else %}
    <p>No harvest sources associated with this organization.</p>
    {% endif %}
  </section>
</section>
{% endblock %}
